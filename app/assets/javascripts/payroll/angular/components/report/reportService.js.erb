(function() {
  'use strict';

  angular.module('somsri.payroll.report.service', [
  ])
  .service('reportService', ['$http', function($http) {
    this.getPayroll = function(effectiveDate) {
      return $http.get('/payrolls', { params: { effective_date: encodeURI(effectiveDate) } });
    }

    this.getMonths = function(employeeId) {
      if(employeeId){
        return $http.get('/payrolls/effective_dates/', { params: { employee_id: employeeId } });
      }else{
        return $http.get('/payrolls/effective_dates/');
      }
    }

    this.updatePayroll = function(id, data) {
      return $http.patch('/payrolls/' + id, data);
    }
  }]);
})();
