(function() {
  'use strict';

  angular.module('somsri.main.classroom.service', [
  ])
  .service('classroomService', ['$http', function($http) {
    this.getGrades = function() {
      return $http.get('/grades')
    }

    this.studentPromote = function(classroomOrder) {
      var url = '/classrooms/student_promote';
      if(classroomOrder){
        return $http.patch(url, {
          classroomOrder: JSON.stringify(classroomOrder)
        })
      }else{
        return $http.patch(url)
      }
    }

    this.delete_grade = function(id){
      return $http.delete('/grades/'+ id)
    }

    this.update_grade = function(data){
      return $http.patch('/grades/update_grade', {grades: data })
    }

    this.sorting = function(data){
      return $http.post('/grades/grade_sorting', {params: data })
    }

    this.removeClassroom = function(id) {
      return $http.delete('/classrooms/' + id)
    }

    this.getClassroomWithNextClassroom = function(id) {
      return $http.get('/classrooms/',{
        params: { next: true }
      })
    }
  }]);
})();
