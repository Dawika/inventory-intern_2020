(function() {
  'use strict';
  angular.module('somsri.main.password_modal', [
  ])
  .controller('passwordModalCtrl', ['$uibModalInstance', '$state', '$log', 'passwordModalService', function($uibModalInstance, $state, $log, service) {
    var ctrl = this;
    ctrl.isValid = true;

    ctrl.submit = function(parm){
      service.changePassword({
        user:{
          current_password: parm.current_password,
          password: parm.password,
          password_confirmation: parm.password
        }
      }).then(function(res) {
        $uibModalInstance.close(res);
      },function(res) {
        ctrl.isValid = false;
      });
    }

    ctrl.cancel = function () {
      $uibModalInstance.close();
    };

  }]);
})();
