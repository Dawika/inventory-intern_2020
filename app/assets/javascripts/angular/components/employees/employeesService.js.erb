(function() {
  'use strict';

  angular.module('somsri.payroll.employees.service', [
  ])
  .service('employeesService', ['$http', function($http) {
    this.getAllEmployee = function() {
      return $http.get('/employees');
    };

    this.getEmployee = function(id, month, year) {
      if(month && year){
        return $http.get('/employees/' + id, { params: { month: month, year: year } });
      } else {
        return $http.get('/employees/' + id);
      }
    };

    this.getEmployeePayrolls = function(id) {
      return $http.get('employees/' + id +'/payrolls');
    };

    this.saveEmployee = function(id, data) {
      return $http.patch('/employees/' + id, data);
    };

    this.createEmployee = function(data) {
      return $http.post('/employees/', data);
    };

    this.deleteEmployee = function(id) {
      return $http.delete('/employees/' + id);
    };
  }]);
})();
