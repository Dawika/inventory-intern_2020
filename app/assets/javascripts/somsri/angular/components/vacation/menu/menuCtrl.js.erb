(function() {
  'use strict';
  angular.module('somsri.somsri.vacation.menu', [
  ])
  .controller('vacationMenuCtrl', ['$rootScope', 'translateFilter', function ($rootScope, translateFilter) {
    var ctrl = this;

    ctrl.showDashboard = false
    ctrl.showCalender = false
    ctrl.showLeaveRule = false
    ctrl.endLine = false
    ctrl.showSetting = false

    $rootScope.menu = translateFilter('vacation');
    $rootScope.canManage("all", function(canManange) {
      $rootScope.cannotLeave("cannot_leave", function(cannotLeave) {
        ctrl.isAdmin = canManange
        if (!cannotLeave) {
          ctrl.showDashboard = true
          ctrl.endLine = true
        }
        ctrl.showCalender = true
        ctrl.showLeaveRule = true
        ctrl.showSetting = true
      })
    });

  }]);
})();
