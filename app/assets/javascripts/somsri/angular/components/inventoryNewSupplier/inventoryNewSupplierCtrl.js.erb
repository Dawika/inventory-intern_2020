(function() {
  'use strict';
    angular.module('somsri.somsri.inventory_new_supplier', [])
    .controller('inventoryNewSupplierCtrl', ['$compile', '$scope', '$window', '$filter', '$rootScope', '$timeout', 'translateFilter', '$uibModal', 'Upload', '$state' ,'inventoryNewSupplierService', function($compile, $scope, $window, $filter, $rootScope, $timeout, translateFilter, $uibModal, Upload, $state, service) {
    $rootScope.menu = translateFilter("inventory_request")
    var ctrl = this
    var angularScopeRoot = 'angular.element(document.getElementById("angularCtrl")).scope().$root'
    var angularScopeInventoryNew = 'angular.element(document.getElementById("angularCtrl")).scope().inventoryNewRequestCtrl'
    var angularCtrlStr = 'angular.element(document.getElementById("angularCtrl")).scope().inventoryNewRequest'
    ctrl.real_id = $state.params.id;
    ctrl.name = ""
    ctrl.description = ""
    ctrl.price = ""
    ctrl.user_name = ""
    ctrl.add_button = "add"
    ctrl.inventory_status = 0

    function initData() {
      if (!ctrl.real_id) { 
        return
      }

      ctrl.add_button = "edit"

      service.show(ctrl.real_id).then(function(resp) {
        var value = resp.data
        ctrl.datas = resp.data
        ctrl.name = value.item_name
        ctrl.description = value.description
        ctrl.price = value.price
        ctrl.user_name = value.user_name
        ctrl.request_date = new Date(value.request_date)
        if (value.request_date) {
          ctrl.datas.request_date = new Date(ctrl.datas.request_date)
        } else {
          ctrl.datas.request_date = null
        }
      })
    }


  }]);
})();