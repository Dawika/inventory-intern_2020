(function() {
  'use strict';

  angular.module('somsri.invoice.alumni.service', [
  ])
  .service('alumniService', ['$http', '$q', function($http, $q) {
    var getAlumniCanceler = $q.defer()
    this.getAlumni = function() {
      getAlumniCanceler.resolve()
      getAlumniCanceler = $q.defer()
      return $http.get('/alumnis', { timeout: getAlumniCanceler.promise })
    }

    this.getAlumniYears = function() {
      return $http.get('/alumnis/years')
    }

    this.getAlumniStatus = function() {
      return $http.get('/alumnis/status')
    }

    this.restore = function(id) {
      return $http.post('/students/restore.json', { student_id: id })
    }
  }]);
})();
